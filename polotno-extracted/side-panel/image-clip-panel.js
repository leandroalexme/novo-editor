var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ImageClipPanel=void 0;const t=e(require("react")),i=require("@blueprintjs/core"),l=require("@blueprintjs/icons"),r=require("mobx-react-lite"),s=require("./images-grid"),a=require("../utils/svg"),n=require("../utils/figure-to-svg"),u=e(require("../utils/styled")),o=require("../utils/l10n"),c=Object.keys(n.TYPES),d=[{width:300,height:300,fill:"lightgray",stroke:"#0c0c0c",strokeWidth:0,url:""}],f=[];c.forEach((e=>{d.forEach((t=>{f.push(Object.assign({subType:e},t))}))})),f.forEach((e=>{e.url=(0,a.svgToURL)((0,n.figureToSvg)(e))}));const p=(0,u.default)("div")`
  height: 220px;
`;exports.ImageClipPanel=(0,r.observer)((({store:e})=>{const r=Math.ceil(f.length/4)||1,a=()=>e.selectedElements.map((e=>e.id)).join(","),n=t.default.useMemo(a,[]),u=a();return t.default.useEffect((()=>{n!==u&&e.openSidePanel(e.previousOpenedSidePanel)}),[n,u]),t.default.createElement("div",{style:{height:"100%",display:"flex",flexDirection:"column",overflow:"auto"}},t.default.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},t.default.createElement("h3",{style:{margin:0,lineHeight:"30px"}},(0,o.t)("sidePanel.clipImage")),t.default.createElement(i.Button,{minimal:!0,icon:t.default.createElement(l.Cross,null),onClick:()=>e.openSidePanel(e.previousOpenedSidePanel)})),t.default.createElement(p,{style:{height:110*r+"px"}},t.default.createElement(s.ImagesGrid,{shadowEnabled:!1,rowsNumber:4,images:f,getPreview:e=>e.url,isLoading:!1,itemHeight:100,onSelect:async(t,i,l)=>{(l?[l]:e.selectedElements).forEach((e=>{("image"===e.type||"video"===e.type)&&e.contentEditable&&e.set({clipSrc:t.url})}))}})))}));