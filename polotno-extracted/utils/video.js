Object.defineProperty(exports,"__esModule",{value:!0}),exports.getVideoSize=async function(e){return new Promise(((t,n)=>{const r=document.createElement("video");r.crossOrigin="anonymous",r.src=e,r.addEventListener("loadedmetadata",(()=>{const{videoWidth:e,videoHeight:n}=r;t({width:e,height:n})})),r.addEventListener("error",(t=>{const r=e.slice(0,100);n(new Error(`Failed to load video: ${r}`))}))}))},exports.getVideoDuration=async function(e){return new Promise((t=>{const n=document.createElement("video");n.crossOrigin="anonymous",n.src=e,n.addEventListener("loadedmetadata",(()=>{const{duration:e}=n;t(e)}))}))},exports.getVideoPreview=async function(e,t=5){return new Promise(((n,r)=>{var o=document.createElement("video"),i=document.createElement("canvas");i.width=480,i.height=360;var d=i.getContext("2d");o.crossOrigin="anonymous",o.src=e,o.addEventListener("error",(e=>{r(e)})),o.addEventListener("loadeddata",(function(){const e=o.videoWidth/o.videoHeight;i.width=480,i.height=480/e,o.currentTime=t})),o.addEventListener("seeked",(function(){d.drawImage(o,0,0,i.width,i.height);try{var e=i.toDataURL();n(e)}catch(t){r(t)}}))}))},exports.getVideoObjectPreview=async function(e,t,n){return new Promise(((r,o)=>{const i=t.getContext("2d"),d=()=>{try{i.drawImage(e,0,0,t.width,t.height);const n=t.toDataURL();r(n),e.removeEventListener("seeked",d)}catch(n){o(n),e.removeEventListener("seeked",d)}};e.addEventListener("seeked",d),e.currentTime=n}))};