var e=this&&this.__rest||function(e,t){var r={};for(var a in e){Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a])}if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++){t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]])}}return r},t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.PageToolbar=exports.NumberInput=void 0;const r=t(require("react")),a=require("mobx-react-lite"),n=require("@blueprintjs/core"),o=require("@blueprintjs/core"),l=require("./element-container"),i=require("../utils/l10n"),u=require("../utils/flags"),s=require("@blueprintjs/icons"),c=require("./color-picker");exports.NumberInput=t=>{var{value:a,onValueChange:o}=t,l=e(t,["value","onValueChange"]);const[i,u]=r.default.useState(a.toString());return r.default.useEffect((()=>{u(a.toString())}),[a]),r.default.createElement(n.NumericInput,Object.assign({value:i,onValueChange:(e,t)=>{u(t),Number.isNaN(e)||o(e)}},l))};const d=(0,a.observer)((({store:e})=>e.activePage?r.default.createElement(c.ColorPicker,{value:e.activePage.background||"white",onChange:t=>{e.activePage.set({background:t})},store:e,gradientEnabled:!0}):null)),p={PageDuration:(0,a.observer)((({store:e})=>{if(!e.activePage){return null}const{duration:t}=e.activePage;return r.default.createElement(o.Popover,{position:"bottom",content:r.default.createElement("div",{style:{padding:"15px",paddingTop:"15px",width:"230px"}},r.default.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingTop:"5px",paddingBottom:"5px"}},r.default.createElement("div",null,(0,i.t)("toolbar.duration")),r.default.createElement("div",null,r.default.createElement(exports.NumberInput,{value:t/1e3,onValueChange:t=>{e.activePage.set({duration:1e3*t})},style:{width:"50px"},min:0,buttonPosition:"none"}))),r.default.createElement(n.Slider,{value:Math.min(t/1e3,50),onChange:t=>{e.activePage.set({duration:1e3*t})},min:0,max:50,showTrackFill:!1,labelRenderer:!1}))},r.default.createElement(n.Button,{icon:r.default.createElement(s.Time,null),minimal:!0},(e.activePage.duration/1e3).toFixed(1),"s"))})),PageBackground:d};exports.PageToolbar=(0,a.observer)((({store:e,components:t})=>{const a=["PageBackground",u.flags.animationsEnabled&&"PageDuration"],n=(0,l.extendToolbar)({type:"page",usedItems:a,components:t});return r.default.createElement(l.ElementContainer,{items:n,itemRender:a=>{const n=t[a]||p[a];return r.default.createElement(n,{store:e,key:a})}})})),exports.default=exports.PageToolbar;