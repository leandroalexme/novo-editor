var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.FigureToolbar=exports.FigureStroke=exports.FigureSettings=exports.FigureFill=void 0;const t=e(require("react")),r=require("mobx-react-lite"),i=require("@blueprintjs/core"),n=require("@blueprintjs/icons"),l=require("@blueprintjs/core"),o=e(require("@meronex/icons/zo/ZoStrokeWidth")),a=e(require("./color-picker")),s=require("./animations-picker"),d=require("./filters-picker"),u=require("./element-container"),h=require("../utils/l10n"),c=require("../utils/flags");exports.FigureFill=(0,r.observer)((({elements:e,store:r})=>t.default.createElement(a.default,{value:e[0].fill,style:{marginRight:"5px"},gradientEnabled:!0,onChange:t=>r.history.transaction((()=>{e.forEach((e=>{e.set({fill:t})}))})),store:r}))),exports.FigureSettings=(0,r.observer)((({store:e,elements:r,element:a})=>{const s=t=>{e.history.transaction((()=>{r.forEach((e=>{e.set(t)}))}))};return t.default.createElement(l.Popover,{content:t.default.createElement("div",{style:{padding:"15px",paddingTop:"15px",width:"270px"}},t.default.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingBottom:"15px"}},t.default.createElement(i.Button,{onClick:()=>{s({strokeWidth:0})},active:0===r[0].strokeWidth,style:{width:"44px",height:"34px"},icon:t.default.createElement(n.Disable,{size:20})}),t.default.createElement(i.Button,{onClick:()=>{s({dash:[],strokeWidth:r[0].strokeWidth||10})},active:r[0].strokeWidth&&0===r[0].dash.length},t.default.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},t.default.createElement("line",{x2:"24",y1:"50%",y2:"50%",stroke:"currentColor",strokeWidth:"2"}))),t.default.createElement(i.Button,{onClick:()=>{s({dash:[4,1],strokeWidth:r[0].strokeWidth||10})},active:r[0].strokeWidth&&4===r[0].dash[0]},t.default.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},t.default.createElement("line",{x1:"-1",x2:"25",y1:"50%",y2:"50%",stroke:"currentColor",strokeDasharray:"12 2",strokeWidth:"2"}))),t.default.createElement(i.Button,{onClick:()=>{s({dash:[2,1],strokeWidth:r[0].strokeWidth||10})},active:r[0].strokeWidth&&2===r[0].dash[0]},t.default.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},t.default.createElement("line",{x1:"1",x2:"23",y1:"50%",y2:"50%",stroke:"currentColor",strokeDasharray:"6 2",strokeWidth:"2"}))),t.default.createElement(i.Button,{onClick:()=>{s({dash:[1,1],strokeWidth:r[0].strokeWidth||10})},active:r[0].strokeWidth&&1===r[0].dash[0]},t.default.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},t.default.createElement("line",{x1:"1",x2:"23",y1:"50%",y2:"50%",stroke:"currentColor",strokeDasharray:"2 2",strokeWidth:"2"})))),t.default.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingBottom:"5px"}},t.default.createElement("div",null,(0,h.t)("toolbar.strokeWidth")),t.default.createElement("div",null,t.default.createElement(d.NumberInput,{value:r[0].strokeWidth,onValueChange:e=>{s({strokeWidth:e})},style:{width:"50px"},min:0,max:Math.round(Math.min(a.width,a.height)/2),buttonPosition:"none"}))),t.default.createElement(i.Slider,{value:r[0].strokeWidth,onChange:e=>{s({strokeWidth:e})},min:0,max:Math.round(Math.min(a.width,a.height)/2),labelRenderer:!1}),"rect"===a.subType&&t.default.createElement(t.default.Fragment,null,t.default.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingTop:"15px",paddingBottom:"5px"}},t.default.createElement("div",null,(0,h.t)("toolbar.cornerRadius")),t.default.createElement("div",null,t.default.createElement(d.NumberInput,{value:r[0].cornerRadius,onValueChange:e=>{s({cornerRadius:e})},style:{width:"50px"},min:0,max:Math.round(Math.max(a.width,a.height)/2),buttonPosition:"none"}))),t.default.createElement(i.Slider,{value:r[0].cornerRadius,onChange:e=>{s({cornerRadius:e})},min:0,max:Math.round(Math.max(a.width,a.height)/2),labelRenderer:!1}))),position:i.Position.BOTTOM},t.default.createElement(i.Button,{icon:t.default.createElement(o.default,null),minimal:!0}))})),exports.FigureStroke=(0,r.observer)((({elements:e,store:r})=>e.find((e=>e.strokeWidth))?t.default.createElement(a.default,{value:e[0].stroke,style:{marginRight:"5px"},gradientEnabled:!1,onChange:t=>r.history.transaction((()=>{e.forEach((e=>{e.set({stroke:t})}))})),store:r}):null));const m={FigureFill:exports.FigureFill,FigureStroke:exports.FigureStroke,FigureSettings:exports.FigureSettings,FigureAnimations:s.AnimationsPicker,FigureFilters:d.FiltersPicker};exports.FigureToolbar=(0,r.observer)((({store:e,components:r})=>{const i=e.selectedElements[0],n=["FigureFill","FigureStroke","FigureSettings","FigureFilters",c.flags.animationsEnabled&&"FigureAnimations"].filter((e=>Boolean(e))),l=(0,u.extendToolbar)({type:"figure",usedItems:n,components:r});return t.default.createElement(u.ElementContainer,{items:l,itemRender:n=>{const l=r[n]||m[n];return t.default.createElement(l,{element:i,store:e,key:n,elements:e.selectedElements})}})})),exports.default=exports.FigureToolbar;