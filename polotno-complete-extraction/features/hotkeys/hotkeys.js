Object.defineProperty(exports,"__esModule",{value:!0}),exports.handleHotkey=function(t,o){var a,l,r,d;if("INPUT"===(null===(a=document.activeElement)||void 0===a?void 0:a.tagName)||"TEXTAREA"===(null===(l=document.activeElement)||void 0===l?void 0:l.tagName)||"true"===(null===(r=document.activeElement)||void 0===r?void 0:r.contentEditable)){return}const c=o.selectedElements.filter((e=>e.removable)).map((e=>e.id));46!==t.keyCode&&8!==t.keyCode||o.deleteElements(c);const n=t.ctrlKey||t.metaKey,s=t.shiftKey;if(!n||s||"z"!==t.key.toLowerCase()&&"y"!==t.key.toLowerCase()||(t.preventDefault(),o.history.undo()),n&&s&&("z"===t.key.toLowerCase()||"y"===t.key.toLowerCase())&&(t.preventDefault(),o.history.redo()),n&&"KeyA"===t.code){t.preventDefault();const e=null===(d=o.activePage)||void 0===d?void 0:d.children.filter((e=>e.selectable)),a=(null==e?void 0:e.map((e=>e.id)))||[];o.selectElements(a)}n&&"KeyC"===t.code&&(t.preventDefault(),(0,e.copy)(o)),n&&"KeyX"===t.code&&(t.preventDefault(),(0,e.cut)(o)),n&&"KeyV"===t.code&&(t.preventDefault(),(0,e.paste)(o)),"ArrowDown"===t.code&&(t.preventDefault(),o.selectedShapes.forEach((e=>{e.draggable&&e.set({y:e.y+1})}))),"ArrowUp"===t.code&&(t.preventDefault(),o.selectedShapes.forEach((e=>{e.draggable&&e.set({y:e.y-1})}))),"ArrowLeft"===t.code&&(t.preventDefault(),o.selectedShapes.forEach((e=>{e.draggable&&e.set({x:e.x-1})}))),"ArrowRight"===t.code&&(t.preventDefault(),o.selectedShapes.forEach((e=>{e.draggable&&e.set({x:e.x+1})})))};const e=require("../utils/clipboard");