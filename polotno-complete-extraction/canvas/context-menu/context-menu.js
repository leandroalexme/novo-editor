var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ContextMenu=void 0;const t=require("mobx-react-lite"),l=require("@blueprintjs/core"),o=e(require("react")),n=require("../../utils/l10n"),a=require("../../toolbar/use-duplicate-element"),u=require("@blueprintjs/icons"),r=require("../../toolbar/use-remove-element"),i=require("../../toolbar/use-copy-style"),s=require("../../toolbar/use-lock");exports.ContextMenu=(0,t.observer)((({store:e,isOpen:t,offset:c,setIsOpen:d})=>{var m,v,E,p;const{disabled:f,duplicate:b}=(0,a.useDuplicateElement)({store:e}),{disabled:M,remove:x}=(0,r.useRemoveElement)({store:e}),{setElementToCopy:C}=(0,i.useCopyStyle)(e),{disabled:k,lock:D,locked:P}=(0,s.useLock)({store:e}),h=P?o.default.createElement(u.Lock,null):o.default.createElement(u.Unlock,null),g=e.selectedElementsIds;return 0===e.selectedElements.length?null:o.default.createElement(l.ContextMenuPopover,{isOpen:t,onClose:()=>{d(!1)},content:o.default.createElement(l.Menu,null,o.default.createElement(l.MenuItem,{shouldDismissPopover:!1,icon:h,text:P?(0,n.t)("contextMenu.unlock"):(0,n.t)("contextMenu.lock"),onClick:D,disabled:k}),o.default.createElement(l.MenuItem,{icon:o.default.createElement(u.Duplicate,null),text:(0,n.t)("contextMenu.duplicate"),onClick:b,disabled:f}),o.default.createElement(l.MenuItem,{icon:o.default.createElement(u.Trash,null),text:(0,n.t)("contextMenu.remove"),onClick:x,disabled:M}),o.default.createElement(l.MenuDivider,null),o.default.createElement(l.MenuItem,{icon:o.default.createElement(u.Layers,null),text:(0,n.t)("toolbar.layering")},o.default.createElement(l.MenuItem,{shouldDismissPopover:!1,icon:o.default.createElement(u.DoubleChevronUp,null),text:(0,n.t)("toolbar.toForward"),disabled:!(null===(m=e.activePage)||void 0===m?void 0:m.canMoveElementsTop(g)),onClick:()=>{var t;null===(t=e.activePage)||void 0===t||t.moveElementsTop(g)}}),o.default.createElement(l.MenuItem,{shouldDismissPopover:!1,icon:o.default.createElement(u.ChevronUp,null),text:(0,n.t)("toolbar.up"),disabled:!(null===(v=e.activePage)||void 0===v?void 0:v.canMoveElementsUp(g)),onClick:()=>{var t;null===(t=e.activePage)||void 0===t||t.moveElementsUp(g)}}),o.default.createElement(l.MenuItem,{shouldDismissPopover:!1,icon:o.default.createElement(u.ChevronDown,null),text:(0,n.t)("toolbar.down"),disabled:!(null===(E=e.activePage)||void 0===E?void 0:E.canMoveElementsDown(g)),onClick:()=>{var t;null===(t=e.activePage)||void 0===t||t.moveElementsDown(g)}}),o.default.createElement(l.MenuItem,{shouldDismissPopover:!1,icon:o.default.createElement(u.DoubleChevronDown,null),text:(0,n.t)("toolbar.toBottom"),disabled:!(null===(p=e.activePage)||void 0===p?void 0:p.canMoveElementsBottom(g)),onClick:()=>{var t;null===(t=e.activePage)||void 0===t||t.moveElementsBottom(g)}}))),targetOffset:{top:c.y,left:c.x}})}));